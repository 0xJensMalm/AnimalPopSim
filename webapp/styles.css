/* PopSim ASCII Web - styles */
:root{
  --bg: #0f0f12;
  --fg: #ddd;
  --muted: #9aa;
  --accent: #8ad;
  --grass: #7cd67c; /* plants */
  --hop: #d6d67c;   /* rabbits */
  --insect: #c7d67c; /* insects */
  --frog: #7ce2c8;  /* foxes (legacy color name) */
  --bird: #7cb7e2;  /* birds */
  --eagle: #d67ccc; /* eagles */
  /* Top row panel height: ~middle of the page, responsive */
  --top-row-h: clamp(180px, 35vh, 420px);
}

*{ box-sizing: border-box; }
html, body { height: 100%; margin: 0; }
body{
  background: var(--bg); color: var(--fg);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  display: flex; flex-direction: column; min-height: 100%;
}

.container{ max-width: 1200px; margin: 0 auto; padding: 0 12px; min-height: 100vh; display:flex; flex-direction:column; }
.header{ display:flex; flex-direction:column; align-items:center; padding: 16px 0 8px; }
.title{ font-weight: 700; color: var(--accent); font-size: 20px; letter-spacing: 1px; }
.controls{ color: var(--muted); font-size: 12px; margin-top: 4px; }

.layout{ display:flex; flex-direction:column; gap: 20px; padding: 16px 0 24px; width: 100%; }
.two-col{ display:grid; grid-template-columns: minmax(260px, 32%) minmax(0, 68%); gap: 16px; align-items: stretch; }
.col-left{ display:flex; flex-direction: column; gap: 12px; min-height: 60vh; }
.panel{ flex:1; border: 1px solid #222; background: #111; padding: 12px; border-radius: 6px; }
.panel{ min-width: 0; }
.panel h3{ margin: 0 0 8px 0; color: var(--fg); }
.ctrls{ display:flex; gap:8px; align-items:center; margin-bottom:6px; flex-wrap:wrap; }
.ctrls .btn{ background:#111; color:var(--fg); border:1px solid #333; padding:4px 8px; border-radius:4px; cursor:pointer; }
.ctrls .btn:hover{ background:#151515; border-color:#444; }
.ctrls .sep{ width:1px; height:18px; background:#333; display:inline-block; margin:0 2px; }

pre{ margin: 0; white-space: pre; line-height: 1.2; font-size: 14px; max-width: 100%; overflow: auto; }
.hint{ color: var(--muted); text-align: center; padding: 10px 0 16px; font-size: 12px; }

/* color helpers */
.fg-accent{ color: var(--accent); }
.fg-dim{ color: #778; }
.fg-grass{ color: var(--grass); }
.fg-hop{ color: var(--hop); }
.fg-insect{ color: var(--insect); }
.fg-frog{ color: var(--frog); }
.fg-bird{ color: var(--bird); }
.fg-eagle{ color: var(--eagle); }

/* Tabs */
.tabs{ display:flex; gap:8px; margin-bottom:8px; }
.tab{ background:#161616; color: var(--muted); border:1px solid #242424; padding:4px 8px; border-radius:5px; cursor:pointer; font-family:inherit; font-size:12px; }
.tab.active{ color: var(--fg); border-color:#2e2e2e; background:#1a1a1a; }
.tab:focus{ outline: 1px solid var(--accent); }

#viz{ min-height: 16em; width: 100%; }

/* Left column panel sizing (approximate proportions) */
.panel-controls{ flex: 0 0 10%; min-height: 56px; display:flex; flex-direction:column; }
.panel-stats{ flex: 0 0 20%; min-height: 120px; display:flex; flex-direction:column; }
.panel-species{ flex: 1 1 50%; min-height: 220px; display:flex; flex-direction:column; }
.panel-log{ flex: 0 0 20%; min-height: 120px; display:flex; flex-direction:column; }
.panel-log pre{ flex:1; overflow:auto; }

/* Right viz panel should take full height */
.panel-viz{ display:flex; flex-direction:column; min-height: 60vh; }

/* Insights panel stretches */
.insights{ display:flex; flex-direction:column; min-height: 280px; }
.insights .tabs{ margin-bottom: 10px; }
.insights #viz{ flex:1; min-height: 22em; width: 100%; }

/* Responsive breakpoints */
@media (max-width: 1100px){
  .top-row{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 700px){
  .top-row{ grid-template-columns: 1fr; }
}

/* Console/log styling (scroll inside static height) */
#log{ overflow-y: auto; border: 1px solid #222; background: #101010; padding: 8px; }

/* Click affordance for species rows */
#species{ cursor: pointer; }

/* Species panel (compact ASCII) */
.sp-panel{ display:flex; flex-direction:column; gap: 8px; }
.sp-inputbar{ display:flex; gap:8px; align-items:center; padding:4px 6px; border:1px solid #222; background:#0f0f0f; border-radius:6px; }
.sp-inputbar .label{ color: var(--muted); margin-right: 4px; }
.sp-inputbar .btn{ background:#111; color:var(--fg); border:1px solid #333; padding:2px 6px; border-radius:4px; cursor:pointer; font-size:12px; }
.sp-inputbar .btn:hover{ background:#151515; border-color:#444; }
.sp-pre{ font-size: 12px; line-height: 1.2; }
.sp-row{ cursor: pointer; }
.sp-row.selected{ background:#141414; }
